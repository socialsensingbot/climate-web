type UserPreferences @model @auth(
  rules: [
    {allow: owner, operations: [create, update, delete, read]},
  ]){
  id: ID!
  ignoreTweets: [TweetIgnore] @connection(name: "UserTweetIgnores")
  ignorePeople: [TwitterUserIgnore] @connection(name: "UserTwitterUserIgnores")
}

type UserSession @model(timestamps: {createdAt: "createdAt", updatedAt: "updatedAt" }) @auth(
  rules: [
    {allow: owner},
  ]){
  id: ID!
  fingerprint: String
  client: AWSJSON
  open: Boolean!
}


type GroupPreferences @model @auth(rules: [{allow: groups, operations: [create, update, delete, read], groupsField: "group"}]){
  id: ID!
  ignoreTweets: [GroupTweetIgnore] @connection(name: "GroupTweetIgnores")
  ignorePeople: [GroupTwitterUserIgnore] @connection(name: "GroupTwitterUserIgnores")
  group: String
}


type GroupTweetIgnore @model(timestamps: {createdAt: "createdAt", updatedAt: "updatedAt" })  @auth(rules: [{allow: groups, groupsField: "ownerGroups"}]) {
  id: ID!
  url: String!
  ignoredBy: String!
  tweetId: String!
  group: GroupPreferences @connection(name: "GroupTweetIgnores")
  ownerGroups: [String]
}


type GroupTwitterUserIgnore @model(timestamps: {createdAt: "createdAt", updatedAt: "updatedAt" })   @auth(rules: [{allow: groups, groupsField: "ownerGroups"}]) {
  id: ID!
  twitterScreenName: String!
  ignoredBy: String!
  group: GroupPreferences @connection(name: "GroupTwitterUserIgnores")
  ownerGroups: [String]
}



type TweetIgnore @model @auth(rules: [ {allow: owner}]) {
  id: ID!
  url: String!
  tweetId: String
  user: UserPreferences @connection(name: "UserTweetIgnores")
}


type TwitterUserIgnore @model  @auth(rules: [ {allow: owner}]) {
  id: ID!
  twitterScreenName: String!
  user: UserPreferences @connection(name: "UserTwitterUserIgnores")
}
