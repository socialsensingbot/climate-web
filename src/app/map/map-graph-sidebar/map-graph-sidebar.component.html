<div class="stats-panel"><br/>
<button *ngIf="this.pref.featureSupported('dashboard')" mat-button (click)="showDashboard()">Open Dashboard</button>

<div class="graph-wrapper">
    <app-twitter-timeseries [height]="500" [mappingColumns]="['region']"
                            [state]="{'regions':regionList,'eoc':'count'}"
                            [type]="'line'" [showForm]="false"
                            [scrollBar]="false"
                            regionFilter="true" textFilter="true"></app-twitter-timeseries>
</div>

<ng-template #expandedCountGraph>
    <app-twitter-timeseries [height]="900" [mappingColumns]="['region']"
                            [state]="{'regions':regionList,'eoc':'count'}"
                            [type]="'line'"
                            regionFilter="true" textFilter="true"></app-twitter-timeseries>

</ng-template>
<button mat-button (click)="expandCountGraph()">Expand</button>
<button mat-button *ngIf="this.pref.featureSupported('dashboard')"
        (click)="this.dash.addCard('timeseries-text-and-region', 'Count for Selected Regions',
        2,2,{'regions':regionList});showDashboard()">Add to
    Dashboard</button>
<div class="graph-wrapper" *ngIf="this.pref.featureSupported('dashboard')">
<app-twitter-timeseries yField="exceedance" regionFilter="true"  [showForm]="false"
                        [type]="'bar'"
                        [state]="{'regions':regionList,'eoc':'exceedance'}"
                        [mappingColumns]="['region']"
                        [scrollBar]="false"
                        [height]="500"></app-twitter-timeseries>
    <ng-template #expandedExceedanceGraph>
        <app-twitter-timeseries yField="exceedance"
                                [type]="'bar'"
                                [state]="{'regions':regionList,'eoc':'exceedance'}"
                                [mappingColumns]="['region']"
                                regionFilter="true" textFilter="true"
                                [height]="900"></app-twitter-timeseries>
    </ng-template>
    <button mat-button (click)="expandExceedanceGraph()">Expand</button>
    <button mat-button
            (click)="this.dash.addCard('timeseries-text-and-region', 'Exceedance for Selected Regions',
            2,2,{'regions':regionList,eoc:'exceedance'});showDashboard()">Add to
        Dashboard</button>
</div>
</div>

