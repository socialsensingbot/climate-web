<mat-sidenav-container class="map-outer">
  <mat-sidenav class="tweet-drawer" #sidenav [(opened)]="_showTweets" disableClose mode="side">
    <button mat-icon-button class="draw-close-button" aria-label="Close" (click)="sidenav.toggle()">
      <mat-icon>close</mat-icon>
    </button>
    <div class="tweets-outer">
      <div class="tweets-header">
        <mat-card class="tweets-heading"><span *ngIf="embeds" style="color: black"><b>Showing {{tweetCount}}
          Tweets from {{selectedRegion}}</b><br/></span>Exceedence probability {{exceedenceProbability}}%
        </mat-card>
      </div>
      <twitter-panel [count]="tweetCount" [region]="selectedRegion" [exceedenceProbability]="exceedenceProbability"
                     [embeds]="embeds" [showHeaderInfo]="twitterPanelHeader"
                     [showTimeline]="showTwitterTimeline"></twitter-panel>

    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="map" aria-label="Map"
         leaflet
         (leafletMapReady)="onMapReady($event)"
         [leafletOptions]="options">
    </div>
    <div class="date-slider">
      <date-range-slider (dateRange)="sliderChange($event)" [timeKeys]="this.timeKeys"
                         [options]="sliderOptions"></date-range-slider>
    </div>
    <map-legend class="legend" [activeNumber]="_activeNumber" [colorData]="_colorData" [colorFunctions]="_colorFunctions"></map-legend>
    <mat-progress-bar *ngIf="loading" class="map-progress" mode="buffer"></mat-progress-bar>
  </mat-sidenav-content>
</mat-sidenav-container>

<mat-spinner *ngIf="!ready"  class="map-spinner"></mat-spinner>

